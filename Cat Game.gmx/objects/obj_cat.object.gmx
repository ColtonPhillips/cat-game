<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_cat_idle</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_collidable_parent</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>player_number = 0;
base_image_speed = 0.2;
image_speed = base_image_speed;
x_speed = 0;
y_speed = 0;
state = "idle";
facing_right = true;
is_input = false;
instance_create(x,y,obj_portal_decoration);
first_step = true;
my_color = c_white;
just_jumped = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_create(x,y,obj_death_decoration);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (just_jumped) {just_jumped = false; y_speed -= 42;}

if first_step {first_step = false; gamepad_set_axis_deadzone(player_number,0.5-(0.1*player_number));
                if (player_number == 1) {my_color = c_gray;}
                if (player_number == 2) {my_color = c_dkgray;}
                if (player_number == 3) {my_color = c_black;}
}

is_input = false;
if (gamepad_axis_value(player_number,gp_axislh) == 0) {is_input = false;}
else {is_input = true;}
x_speed /=1.5;
y_speed /=1.5;
y_speed += GRAVITY;
x_speed += (0.8 + (0.8+0.4*player_number)*gamepad_button_value(player_number,gp_shoulderrb)) * gamepad_axis_value(player_number,gp_axislh);

if (place_meeting(x,y+5,obj_collidable_parent)) {
    if (gamepad_button_check_pressed(player_number,gp_face1)) {
       y_speed -= 21;
       state = "jump";
       just_jumped = true;
    }
    if (gamepad_button_check_pressed(player_number,gp_shoulderlb)){
    y_speed -= 42;        
}
}
if (gamepad_button_check(player_number,gp_face1)) {
       y_speed -= 1.2 + (0.2)*player_number;
}

if (y_speed &gt; 0) {
    move_contact_solid(270,y_speed);
}
else if (y_speed &lt; 0) {
    move_contact_solid(90,-y_speed);
}

if (x_speed &gt; 0) {
    move_contact_solid(0,x_speed);
}
else if (x_speed &lt; 0) {
    move_contact_solid(180,-x_speed);
}

if (gamepad_button_check_pressed(player_number,gp_start)){view_object[0]= id;view_xview[0]= x - view_wview[0]/2;view_yview[0]= y - view_hview[0]/2;}

if (place_meeting(x,y,obj_collidable_parent)) {x+=random_range(-1,1);y+=random_range(-1,1); if (player_number == 3) {move_random(1,1);}}

if (keyboard_check_pressed(vk_right)) {x_speed += 1000000;}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (x - xprevious  &gt; 0) facing_right = true;
if (x - xprevious &lt; 0) facing_right = false;

if (facing_right) {if image_xscale != 1 image_xscale = 1}
else {if image_xscale != -1 image_xscale = -1}


switch (state) {
case "idle":
    if (sprite_index != spr_cat_idle) { sprite_index = spr_cat_idle; }
    if (is_input) state = "walk";
    if (scr_chance(60)) {image_speed-=0.1;}
    break;
case "walk":
    image_speed = base_image_speed + 0.2*gamepad_button_value(player_number,gp_shoulderrb);
    if (sprite_index != spr_cat_walk) { sprite_index = spr_cat_walk; }
    if (is_input == false) state = "idle";
    break;
case "jump":
    image_speed = 0.2;
    if (sprite_index != spr_cat_jump) { sprite_index = spr_cat_jump; }
    if (scr_chance(10+player_number)) state = "fall";
    break;
case "fall":
    if (sprite_index != spr_cat_fall) { sprite_index = spr_cat_fall; }
    if (place_meeting(x,y+5,obj_collidable_parent)) state = "idle";
    break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,0,my_color,1);
//draw_rectangle(bbox_left,bbox_top,bbox_right,bbox_bottom,true)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>21,37</point>
    <point>22,22</point>
  </PhysicsShapePoints>
</object>
